model User {
  id String @id @default(uuid())

  // Identity
  name     String 
  email    String @unique
  password String 

  // Settings
  role       UserRole   @default(USER)
  status     UserStatus @default(ACTIVE)
  isVerified Boolean    @default(false)
  isOnline       Boolean  @default(false)
  // Activity
  lastLoginAt  DateTime?
  lastActiveAt DateTime?

  // Avatar

  profilePicture   String?

  // Notifications & Auth
  notifications UserNotification[]
  refreshTokens RefreshToken[]
  otps          UserOtp[]

  // CHAT & CALL RELATIONS
  conversationsInitiated PrivateConversation[] @relation("ConversationInitiator")
  conversationsReceived  PrivateConversation[] @relation("ConversationReceiver")

  /// All messages user has sent
  messagesSent PrivateMessage[]

  /// Message delivery/read statuses
  messageStatuses PrivateMessageStatus[]


  // location longitude
  locationLon String? @default("-71.0589")
  // location latitude
  locationLat String? @default("42.3601")
  // user bio
  about       String? @default("User about information")
  username    String? @unique
  address     String?
  dateOfBirth DateTime?
  // cover photo
  coverPhoto String?

  // Calling relations
  hostedCalls   Calling[] @relation("HostedCalls")
  receivedCalls Calling[] @relation("ReceivedCalls")
  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("users")
}

enum UserRole {
  SUPER_ADMIN
  ADMIN
  USER
}

enum UserStatus {
  ACTIVE
  INACTIVE
  DELETED
}
